[gd_scene load_steps=7 format=3 uid="uid://g4ya6k88ptd2"]

[ext_resource type="Script" path="res://layer_manager.gd" id="1_qrecu"]
[ext_resource type="PackedScene" uid="uid://bx8ek002jwy3h" path="res://blacksmith.tscn" id="2_71qyi"]
[ext_resource type="Script" path="res://depth_camera.gd" id="3_rvftn"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sbo3q"]
size = Vector2(340, 524)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6v1v1"]
size = Vector2(662, 4040)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_b3x1s"]
size = Vector2(1264, 8084)

[node name="Main" type="Node2D"]
y_sort_enabled = true

[node name="LayerManager" type="Node" parent="."]
script = ExtResource("1_qrecu")
front_layer_path = NodePath("../LayerFront")
middle_layer_path = NodePath("../LayerMid")
back_layer_path = NodePath("../LayerBack")
y_positions = Array[float]([1000.0, 800.0, 600.0])
scales = Array[float]([1.0, 0.9, 0.8])

[node name="front" type="CharacterBody2D" parent="."]
position = Vector2(203, 997)
collision_layer = 0
collision_mask = 0
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="front"]
position = Vector2(0, -225)
shape = SubResource("RectangleShape2D_sbo3q")
debug_color = Color(0.981277, 0, 0.372465, 0.42)

[node name="mid" type="CharacterBody2D" parent="."]
position = Vector2(695, 654)
scale = Vector2(0.565609, 0.565609)
collision_layer = 0
collision_mask = 0
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="mid"]
position = Vector2(0, -225)
shape = SubResource("RectangleShape2D_sbo3q")
debug_color = Color(0.70614, 0.488514, 5.77569e-07, 0.42)

[node name="back" type="CharacterBody2D" parent="."]
position = Vector2(1022, 521)
scale = Vector2(0.439843, 0.439843)
collision_layer = 0
collision_mask = 0
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="back"]
position = Vector2(0, -225)
shape = SubResource("RectangleShape2D_sbo3q")
debug_color = Color(0, 0.638766, 0.374252, 0.42)

[node name="LayerBack" type="Node2D" parent="."]
y_sort_enabled = true

[node name="LayerMid" type="Node2D" parent="."]
z_index = 10
y_sort_enabled = true

[node name="LayerFront" type="Node2D" parent="."]
z_index = 20
y_sort_enabled = true

[node name="Blacksmith" parent="." node_paths=PackedStringArray("layer_manager") instance=ExtResource("2_71qyi")]
position = Vector2(467, 1038)
collision_layer = 0
collision_mask = 512
speed = 400.0
layer_manager = NodePath("../LayerManager")
layer_moving_duration = 1.0

[node name="Camera2D" type="Camera2D" parent="Blacksmith" node_paths=PackedStringArray("player", "layer_manager")]
position = Vector2(494, -501)
scale = Vector2(0.7685, 0.7685)
limit_left = -400
limit_right = 2100
limit_smoothed = true
drag_horizontal_enabled = true
script = ExtResource("3_rvftn")
transition_speed = 0.8
player = NodePath("..")
layer_manager = NodePath("../../LayerManager")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(-489, 633)
scale = Vector2(0.8165, 0.8165)
collision_layer = 512
collision_mask = 0
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
shape = SubResource("RectangleShape2D_6v1v1")

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(2446, 631)
scale = Vector2(0.409, 0.409)
collision_layer = 512
collision_mask = 0
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("RectangleShape2D_b3x1s")
